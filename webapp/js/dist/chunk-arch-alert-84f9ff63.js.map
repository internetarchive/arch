{"version":3,"file":"chunk-arch-alert-84f9ff63.js","sources":["../../../src/src/lib/ArchAPI.ts","../../../src/src/lib/constants.ts","../../src/node_modules/lit-html/directive.js","../../src/node_modules/lit-html/directives/unsafe-html.js","../../../src/src/archAlert/src/styles.ts","../../../src/src/archAlert/src/arch-alert.ts"],"sourcesContent":["import { ApiParams, ApiPath, ApiResponse, Collection, Dataset } from \"./types\";\n\nexport default class ArchAPI {\n  static BasePath = \"/api\";\n\n  static async get<T>(\n    path: ApiPath,\n    params: ApiParams<T> = []\n  ): Promise<ApiResponse<T>> {\n    const searchParams = new URLSearchParams(\n      params.map(([k, op, v]) => [\n        `${String(k)}${op === \"!=\" ? \"!\" : \"\"}`,\n        String(v),\n      ])\n    );\n    return (\n      await fetch(\n        `${ArchAPI.BasePath}${path}${\n          params ? `?${searchParams.toString()}` : \"\"\n        }`\n      )\n    ).json() as Promise<ApiResponse<T>>;\n  }\n\n  static get collections() {\n    return {\n      get: (params: ApiParams<Collection> = []) =>\n        ArchAPI.get<Collection>(\"/collections\", params),\n    };\n  }\n\n  static get datasets() {\n    return {\n      get: (params: ApiParams<Dataset> = []) =>\n        ArchAPI.get<Dataset>(\"/datasets\", params),\n    };\n  }\n}\n","export const SAMPLE_JOB_ID_SUFFIX = \"-SAMPLE\";\n\nexport const HtmlStatusCodeRegex = /^[1-5]\\d\\d$/;\n\n// SurtRegex: domain labels separated by commas optionally followed by \")\" or \")/.*\"\nconst ValidLabelChars = \"[a-zA-Z0-9\\\\-]\";\nexport const SurtPrefixRegex = new RegExp(\n  `^${ValidLabelChars}+,${ValidLabelChars}+(${ValidLabelChars}+,?)*((\\\\))|(\\\\)/.*))?$`\n);\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","import { css } from \"lit\";\n\nimport { global, Bootstrap4Alerts } from \"../../lib/styles\";\n\nexport default [\n  global,\n  Bootstrap4Alerts,\n  css`\n    div.alert {\n      display: flex;\n      padding: 0;\n    }\n\n    p {\n      font-size: 1rem;\n      line-height: 1.6rem;\n      flex-grow: 1;\n      margin: 0;\n      padding: 1.2rem 0 1.2rem 1.2rem;\n    }\n\n    button {\n      align-self: flex-start;\n      padding: 1.2rem;\n      font-size: 1.2rem;\n    }\n\n    button:hover {\n      font-weight: bold;\n    }\n  `,\n];\n","import { LitElement, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\n\nimport styles from \"./styles\";\n\nexport enum AlertClass {\n  Danger = \"danger\",\n  Dark = \"dark\",\n  Info = \"info\",\n  Light = \"light\",\n  Primary = \"primary\",\n  Secondary = \"secondary\",\n  Success = \"success\",\n  Warning = \"warning\",\n}\n\n@customElement(\"arch-alert\")\nexport class ArchAlert extends LitElement {\n  @property({ type: String }) alertClass: AlertClass = AlertClass.Primary;\n  @property({ type: Boolean }) hidden = false;\n  @property({ type: String }) message = \"\";\n\n  static styles = styles;\n\n  render() {\n    return html`\n      <div\n        class=\"alert alert-${this.alertClass}\"\n        style=\"display: ${this.hidden ? \"none\" : \"flex\"}\"\n        role=\"alert\"\n      >\n        <p>${unsafeHTML(this.message)}</p>\n        <button\n          type=\"button\"\n          class=\"close\"\n          data-dismiss=\"alert\"\n          aria-label=\"Close\"\n          style=\"background-color: transparent;\"\n          @click=${this.hide}\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n    `;\n  }\n\n  hide() {\n    this.setAttribute(\"hidden\", \"\");\n  }\n\n  show() {\n    this.removeAttribute(\"hidden\");\n  }\n}\n\n// Injects the tag into the global name space\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"arch-alert\": ArchAlert;\n  }\n}\n"],"names":["ArchAPI","static","path","params","searchParams","URLSearchParams","map","k","op","v","String","fetch","BasePath","toString","json","collections","get","datasets","SAMPLE_JOB_ID_SUFFIX","HtmlStatusCodeRegex","ValidLabelChars","SurtPrefixRegex","RegExp","t","i","constructor","_$AU","this","_$AM","_$AT","e","_$Ct","_$Ci","_$AS","update","render","r","super","it","type","s","Error","directiveName","_t","raw","_$litType$","resultType","strings","values","o","_$litDirective$","n","AlertClass","styles","global","Bootstrap4Alerts","css","ArchAlert","LitElement","alertClass","Primary","hidden","message","html","unsafeHTML","hide","setAttribute","show","removeAttribute","__decorate","property","prototype","Boolean","customElement"],"mappings":"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"}